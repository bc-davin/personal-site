<div class="blog-container">
  <header class="page-header">
    <h1>Blog</h1>
    <p>Thoughts, tutorials, and insights on web development</p>
  </header>

  @if (loading()) {
    <div class="loading">Loading blog posts...</div>
  }

  @if (error()) {
    <div class="error">{{ error() }}</div>
  }

  @if (!loading() && !error()) {
    @if (blogs().length > 0) {
      <div class="blog-grid">
        @for (blog of blogs(); track blog._id) {
          <article class="blog-card">
            @if (blog.featured_image) {
              <div class="blog-image" [style.background-image]="'url(' + blog.featured_image + ')'"></div>
            }
            
            <div class="blog-content">
              <h2>
                <a [routerLink]="['/blog', blog._id]">{{ blog.title }}</a>
              </h2>
              
              <div class="blog-meta">
                <span class="author">By {{ blog.author }}</span>
                <span class="separator">•</span>
                <span class="date">{{ blog.created_at | date: 'MMMM d, yyyy' }}</span>
              </div>
              
              <p class="excerpt">{{ getExcerpt(blog) }}</p>
              
              @if (blog.tags.length > 0) {
                <div class="tags">
                  @for (tag of blog.tags; track tag) {
                    <span class="tag">{{ tag }}</span>
                  }
                </div>
              }
              
              <a [routerLink]="['/blog', blog._id]" class="read-more">
                Read More →
              </a>
            </div>
          </article>
        }
      </div>
    } @else {
      <div class="empty-state">
        <p>No blog posts published yet. Check back soon!</p>
      </div>
    }
  }
</div>
